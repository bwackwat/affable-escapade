<h2>New Thread</h2>
<label for="threadNameField">Name: </label>
<input type="text" id="threadNameField"/>
<br>
<br>
<label for="threadDescriptionField">Description:</label>
<br>
<textarea id="threadDescriptionField" cols="80" rows="4"></textarea>
<br>
<br>
<input id="createThreadButton" type="button" value="Create"/>
<script>
	sub_scripts.push(function(){
		var status = document.getElementById("status");
		document.getElementById("createThreadButton").onclick = function() {
			callAPI("POST", "/thread", {"token": localStorage.getItem(localStorageTokenKey),
			"values": [document.getElementById("threadNameField").value, document.getElementById("threadDescriptionField").value]}, function(response){
				if(typeof(response.error) === 'undefined'){
					redirect_flash("/cms/threads.html", "Thread created!");
				}else{
					status.innerHTML = response.error;
				}
			});
		};
	});
</script>
